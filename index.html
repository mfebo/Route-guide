<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Route Guide</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=Share+Tech+Mono&family=Barlow+Condensed:wght@700;900&display=swap');
:root {
  --blue:#004B87; --red:#C8102E; --bg:#0d1117; --surface:#161b22;
  --surface2:#1e2530; --border:#2a3240; --text:#e6edf3; --muted:#7d8da1;
  --accent:#58a6ff; --warn:#f78166;
  --c-fwd:#3fb950; --c-vac:#f85149; --c-hold:#f0c040;
  --mono:'Share Tech Mono',monospace; --cond:'Barlow Condensed',sans-serif;
}
*{box-sizing:border-box;margin:0;padding:0}
body{background:var(--bg);color:var(--text);font-family:sans-serif;min-height:100vh}
header{background:var(--blue);padding:12px 16px;display:flex;align-items:center;gap:12px;position:sticky;top:0;z-index:100;border-bottom:3px solid var(--red)}
header h1{font-family:var(--cond);font-weight:900;font-size:1.4rem;letter-spacing:.08em;text-transform:uppercase}
#clock{font-family:var(--mono);font-size:.8rem;color:rgba(255,255,255,.6);margin-left:auto}
.wrap{max-width:600px;margin:0 auto;padding:12px}

/* Accordion */
.acc-row{display:flex;align-items:center;gap:14px;background:linear-gradient(135deg,var(--blue),#003366);border-radius:8px;padding:14px 16px;cursor:pointer;margin-bottom:6px;border:1px solid rgba(255,255,255,.08);user-select:none;-webkit-tap-highlight-color:transparent}
.acc-n{font-family:var(--mono);font-size:1.6rem;color:rgba(255,255,255,.2);min-width:28px;line-height:1}
.acc-name{font-family:var(--cond);font-weight:900;font-size:1.2rem;letter-spacing:.05em;text-transform:uppercase}
.acc-meta{font-family:var(--mono);font-size:.75rem;color:rgba(255,255,255,.5);margin-top:3px}
.acc-chev{color:rgba(255,255,255,.4);font-size:.9rem;transition:transform .2s;margin-left:auto;flex-shrink:0}
.acc-chev.open{transform:rotate(90deg)}
.acc-body{display:none;margin-bottom:10px}
.acc-body.open{display:block}
.card{background:var(--surface);border:1px solid var(--border);border-radius:0 0 8px 8px;overflow:hidden}

/* Park point */
.park{display:flex;align-items:center;gap:10px;padding:11px 16px;background:var(--surface2);border-bottom:1px solid var(--border)}
.park-lbl{font-family:var(--mono);font-size:.72rem;color:var(--muted);text-transform:uppercase;letter-spacing:.07em}
.park-addr{font-family:var(--cond);font-weight:700;font-size:1.1rem}
.map-btn{margin-left:auto;background:var(--accent);color:#0d1117;font-family:var(--cond);font-weight:700;font-size:.8rem;letter-spacing:.05em;text-transform:uppercase;padding:6px 12px;border-radius:4px;border:none;cursor:pointer;text-decoration:none;display:inline-block;white-space:nowrap}

/* Info grid row 1 */
.info-r1{display:grid;grid-template-columns:1fr 1fr;gap:1px;background:var(--border);border-bottom:1px solid var(--border)}
.map-cell{background:#000;cursor:pointer;position:relative;display:flex;align-items:center;justify-content:center;min-height:55px;align-self:start}
.map-cell img{width:100%;height:100%;object-fit:contain;object-position:center}
.map-hint{position:absolute;bottom:5px;right:5px;background:rgba(0,0,0,.75);color:white;font-family:var(--mono);font-size:.62rem;padding:2px 6px;border-radius:3px}
.no-map-cell{background:var(--surface2);display:flex;align-items:center;justify-content:center;min-height:55px;color:var(--border);font-family:var(--mono);font-size:.7rem}
.r1-right{display:grid;grid-template-rows:1fr 1fr;gap:1px;background:var(--border)}
.ic{background:var(--surface);padding:10px 14px;display:flex;flex-direction:column;justify-content:center}
.ic-val{font-family:var(--mono);font-size:1.3rem;color:var(--accent);line-height:1}
.ic-lbl{font-family:var(--cond);font-size:.72rem;color:var(--muted);text-transform:uppercase;letter-spacing:.05em;margin-top:2px}

/* Info grid row 2 */
.info-r2{display:grid;grid-template-columns:1fr 1fr 1fr 1fr;gap:1px;background:var(--border);border-bottom:1px solid var(--border)}
.sc{background:var(--surface);padding:9px 6px;display:flex;flex-direction:column;align-items:center;justify-content:center;text-align:center}
.sc-val{font-family:var(--mono);font-size:1.1rem;line-height:1;margin-bottom:2px}
.sc-lbl{font-family:var(--cond);font-size:.68rem;text-transform:uppercase;letter-spacing:.05em}
.sc.dim .sc-val,.sc.dim .sc-lbl{color:var(--border)}
.sc.key-on .sc-val,.sc.key-on .sc-lbl{color:var(--c-hold)}
.sc.hold-on .sc-val,.sc.hold-on .sc-lbl{color:var(--c-hold)}
.sc.fwd-on .sc-val,.sc.fwd-on .sc-lbl{color:var(--c-fwd)}
.sc.vac-on .sc-val,.sc.vac-on .sc-lbl{color:var(--c-vac)}

/* Relay note */
.rnote-wrap{padding:10px 14px;border-bottom:1px solid var(--border);background:var(--surface2)}
.rnote-lbl{font-family:var(--mono);font-size:.68rem;color:var(--muted);text-transform:uppercase;letter-spacing:.07em;margin-bottom:4px}
.rnote{width:100%;background:var(--bg);border:1px solid var(--border);border-radius:4px;color:var(--text);font-family:var(--mono);font-size:.82rem;padding:7px 10px;resize:none;min-height:44px;line-height:1.4}
.rnote:focus{outline:none;border-color:var(--accent)}
.rnote::placeholder{color:var(--border)}

/* Delivery toggle */
.del-hdr{display:flex;align-items:center;gap:8px;padding:10px 16px;background:var(--surface2);border-bottom:1px solid var(--border);cursor:pointer;user-select:none;-webkit-tap-highlight-color:transparent}
.del-lbl{font-family:var(--cond);font-weight:700;font-size:1rem;letter-spacing:.05em;text-transform:uppercase;flex:1}
.del-meta{font-family:var(--mono);font-size:.75rem;color:var(--muted)}
.chev{color:var(--muted);font-size:.8rem;transition:transform .2s}
.chev.open{transform:rotate(90deg)}
.del-body{display:none}
.del-body.open{display:block}

/* Street band */
.band{display:flex;align-items:center;gap:8px;padding:7px 16px;font-family:var(--cond);font-weight:700;font-size:.95rem;letter-spacing:.07em;text-transform:uppercase;border-top:2px solid;border-bottom:1px solid var(--border)}

/* Direction bars */
.dir{display:flex;align-items:center;gap:8px;padding:5px 16px;font-family:var(--mono);font-size:.78rem;color:var(--muted);text-transform:uppercase;letter-spacing:.06em;border-bottom:1px solid var(--border)}
.dir.cross{color:var(--accent);background:rgba(88,166,255,.06)}
.dir-line{height:1px;flex:1;background:linear-gradient(to right,currentColor,transparent);opacity:.3}

/* Stop rows */
.stop{display:flex;align-items:flex-start;padding:7px 16px 7px 20px;gap:8px;border-left:3px solid transparent;flex-wrap:wrap;cursor:pointer;-webkit-tap-highlight-color:transparent}
.stop.xstop{border-left-color:var(--accent)}
.stop.xstop .snum{color:var(--accent)}
.stop.is-fwd{background:rgba(63,185,80,.08) !important;border-left-color:var(--c-fwd)}
.stop.is-fwd .snum{color:var(--c-fwd)}
.stop.is-vac{background:rgba(248,81,73,.08) !important;border-left-color:var(--c-vac)}
.stop.is-vac .snum{color:var(--c-vac)}
.stop.is-hold{background:rgba(240,196,64,.1) !important;border-left-color:var(--c-hold)}
.stop.is-hold .snum{color:var(--c-hold)}
.snum{font-family:var(--mono);font-size:1rem;min-width:54px;padding-top:1px}
.sstreet{font-size:.88rem;color:var(--muted);flex:1;padding-top:2px}
.snote{font-family:var(--mono);font-size:.8rem;padding-top:2px}
.snote.dog{color:var(--warn)}
.snote.fwd{color:var(--c-fwd)}
.snote.vac{color:var(--c-vac)}
.snote.hold{color:var(--c-hold)}

/* Address note panel */
.anote{margin:0 16px 6px 20px;background:var(--surface2);border:1px solid var(--border);border-radius:4px;padding:6px 8px;display:none;gap:8px;align-items:flex-start}
.anote.visible{display:flex}
.anote textarea{flex:1;background:transparent;border:none;color:var(--text);font-family:var(--mono);font-size:.8rem;resize:none;min-height:32px;line-height:1.4}
.anote textarea:focus{outline:none}
.anote-btns{display:flex;flex-direction:column;gap:4px;flex-shrink:0}
.btn-sm{font-family:var(--mono);font-size:.65rem;padding:4px 8px;border-radius:3px;border:none;cursor:pointer;white-space:nowrap}
.btn-hold{background:rgba(240,196,64,.2);color:var(--c-hold)}
.btn-hold.active{background:var(--c-hold);color:#0d1117;font-weight:bold}
.btn-fwd{background:rgba(63,185,80,.2);color:var(--c-fwd)}
.btn-fwd.active{background:var(--c-fwd);color:#0d1117;font-weight:bold}
.btn-vac{background:rgba(248,81,73,.15);color:var(--c-vac)}
.btn-vac.active{background:var(--c-vac);color:#0d1117;font-weight:bold}
.btn-clear{background:rgba(200,16,46,.15);color:var(--warn)}

/* Unit rows */
.unit{display:flex;align-items:center;padding:3px 16px 3px 38px;gap:8px;font-family:var(--mono);font-size:.85rem;color:var(--muted)}
.uid{color:var(--accent);min-width:52px}

/* Flags */
.flag{font-size:.75rem;padding:3px 7px;border-radius:3px;font-family:var(--mono);font-weight:bold;white-space:nowrap}
.f-dog{background:var(--warn);color:#0d1117}
.f-fwd{background:var(--c-fwd);color:#0d1117}
.f-apt{background:#238636;color:#fff}
.f-key{background:var(--c-hold);color:#0d1117}
.f-code{background:var(--red);color:#fff}
.f-biz{background:#444c56;color:var(--text)}
.f-vac{background:rgba(248,81,73,.18);color:var(--c-vac)}
.f-dup{background:#1f4e79;color:#90cdf4}

/* Code block */
.codebox{margin:2px 16px 5px 20px;background:rgba(200,16,46,.1);border:1px solid rgba(200,16,46,.3);border-radius:4px;padding:5px 12px;font-family:var(--mono);font-size:.88rem;color:#f78166;display:flex;align-items:center;gap:8px}
.clbl{color:var(--muted);font-size:.72rem;text-transform:uppercase;letter-spacing:.06em}

/* Lightbox */
.lb{display:none;position:fixed;inset:0;background:rgba(0,0,0,.93);z-index:999;align-items:center;justify-content:center}
.lb.open{display:flex}
.lb img{max-width:95vw;max-height:95vh;object-fit:contain}
.lb-x{position:fixed;top:14px;right:14px;color:white;font-size:1.8rem;cursor:pointer;background:rgba(0,0,0,.6);width:38px;height:38px;display:flex;align-items:center;justify-content:center;border-radius:50%}
</style>
</head>
<body>
<header>
  <span style="font-size:20px">&#9993;</span>
  <h1>Route Guide</h1>
  <span id="clock"></span>
</header>
<div class="wrap" id="app"></div>
<div class="lb" id="lb" onclick="closeLB()">
  <div class="lb-x" onclick="closeLB()">&#10005;</div>
  <img id="lb-img" src="" alt="Route map">
</div>

<script>
// ── Storage ──
function loadState(){try{return JSON.parse(localStorage.getItem('rg2')||'{}')}catch(e){return{}}}
function saveState(s){try{localStorage.setItem('rg2',JSON.stringify(s))}catch(e){}}
let S = loadState();
function getRN(rid){return S['rn'+rid]||''}
function setRN(rid,v){S['rn'+rid]=v;saveState(S)}
function getAN(rid,num){return S['an'+rid+'_'+num]||''}
function setAN(rid,num,v){S['an'+rid+'_'+num]=v;saveState(S)}
function getH(rid,num){return!!S['h'+rid+'_'+num]}
function setH(rid,num,v){S['h'+rid+'_'+num]=v?1:0;saveState(S)}
function getF(rid,num){return!!S['f'+rid+'_'+num]}
function setF(rid,num,v){S['f'+rid+'_'+num]=v?1:0;saveState(S)}
function getV(rid,num){return!!S['v'+rid+'_'+num]}
function setV(rid,num,v){S['v'+rid+'_'+num]=v?1:0;saveState(S)}
function countH(rid){let n=0;for(const k in S){if(k.startsWith('h'+rid+'_')&&S[k])n++}return n}

// ── Helpers ──
function lighten(h){const r=parseInt(h.slice(1,3),16),g=parseInt(h.slice(3,5),16),b=parseInt(h.slice(5,7),16);return`rgb(${Math.min(255,r+110)},${Math.min(255,g+110)},${Math.min(255,b+110)})`}
const FL={dog:{c:'f-dog',l:'DOG'},fwd:{c:'f-fwd',l:'FWD'},apt:{c:'f-apt',l:'APT'},key:{c:'f-key',l:'KEY'},code:{c:'f-code',l:'CODE'},biz:{c:'f-biz',l:'BIZ'},vac:{c:'f-vac',l:'VAC'},dup:{c:'f-dup',l:'DUPLEX'}};
function fl(t){const f=FL[t];return f?`<span class="flag ${f.c}">${f.l}</span>`:''}

// ── Build segments ──
function buildSegs(segs,rid){
  let html='',cc='#0d1117',cs='';
  for(const s of segs){
    if(s.type==='street'){
      cc=s.color||'#161b22';cs=s.street;
      html+=`<div class="band" style="background:${cc}22;border-color:${cc};color:${lighten(cc)}">&#128205; ${s.street}</div>`;
    }else if(s.type==='dir'){
      const x=s.cross,arr=x?'&#8617;':(s.label.toLowerCase().includes('north')?'&#8593;':'&#8595;');
      html+=`<div class="dir${x?' cross':''}" style="background:${cc}10"><span>${arr}</span> ${s.label} <div class="dir-line"></div></div>`;
    }else if(s.type==='stop'){
      const sid=rid+'_'+s.num;
      const hold=getH(rid,s.num);
      const manFwd=getF(rid,s.num);
      const manVac=getV(rid,s.num);
      const an=getAN(rid,s.num);
      const isFwd=manFwd||(s.flags||[]).includes('fwd')||s.noteType==='fwd';
      const isVac=manVac||(s.flags||[]).includes('vac')||s.noteType==='vac';
      let rc='stop';
      if(hold)rc+=' is-hold';
      else if(isFwd)rc+=' is-fwd';
      else if(isVac)rc+=' is-vac';
      else if(s.cross)rc+=' xstop';
      const st=(s.street&&s.street!==cs)?s.street:'';
      const flags=(s.flags||[]).filter(f=>f!=='apt'&&f!=='dup'&&f!=='fwd'&&f!=='vac').map(fl).join('');
      let note='';
      if(hold)note=`<span class="snote hold">HOLD</span>`;
      else if(s.noteType==='biz'&&s.note)note=`<span class="flag f-biz">&#127970; ${s.note}</span>`;
      else if(s.note)note=`<span class="snote ${s.noteType||''}">${s.note}</span>`;
      html+=`<div class="${rc}" style="background:${(hold||isFwd||isVac)?'':cc+'15'}" onclick="togAddr('${sid}',${rid},'${s.num}')">
        <span class="snum">${s.num}</span><span class="sstreet">${st}</span>${flags}${note}
      </div>`;
      if(s.units)for(const u of s.units)html+=`<div class="unit" style="background:${cc}0d"><span class="uid">${s.num}${u}</span></div>`;
      if(s.code){const ex=s.codeNote?`<span class="clbl" style="margin-left:8px">${s.codeNote}</span>`:'';html+=`<div class="codebox"><span class="clbl">Code</span><strong>${s.code}</strong>${ex}</div>`;}
      html+=`<div class="anote${(an||hold||manFwd||manVac)?' visible':''}" id="ap${sid}">
        <textarea placeholder="Add note..." oninput="saveAN(${rid},'${s.num}',this.value)">${an}</textarea>
        <div class="anote-btns">
          <button class="btn-sm btn-hold${hold?' active':''}" onclick="togHold(event,${rid},'${s.num}')">${hold?'HELD':'HOLD'}</button>
          <button class="btn-sm btn-fwd${manFwd?' active':''}" onclick="togFwd(event,${rid},'${s.num}')">${manFwd?'FWD ✓':'FWD'}</button>
          <button class="btn-sm btn-vac${manVac?' active':''}" onclick="togVac(event,${rid},'${s.num}')">${manVac?'VAC ✓':'VAC'}</button>
          <button class="btn-sm btn-clear" onclick="clearAddr(event,${rid},'${s.num}')">CLEAR</button>
        </div>
      </div>`;
    }
  }
  return html;
}

// ── Build relay card ──
function buildRelay(r,i){
  const bid='b'+i,did='d'+i;
  const mapsUrl='https://maps.google.com/?q='+encodeURIComponent(r.parkPoint+', Grandview Heights, OH');
  const meta=r.stops+' stops'+(r.dist?' · '+r.dist:'');
  const holds=countH(r.relay);
  const rn=getRN(r.relay);
  const mapHtml=r.mapImg
    ?`<div class="map-cell" onclick="openLB('${r.mapImg}')"><img src="${r.mapImg}" alt="map"><div class="map-hint">&#8662; enlarge</div></div>`
    :`<div class="no-map-cell">NO MAP</div>`;
  return`
<div class="acc-row" onclick="togAcc('${bid}')">
  <div class="acc-n">${r.relay}</div>
  <div style="flex:1"><div class="acc-name">${r.name}</div><div class="acc-meta">${meta}</div></div>
  <span class="acc-chev" id="ac${bid}">&#9658;</span>
</div>
<div class="acc-body" id="${bid}">
  <div class="card">
    <div class="park">
      <span style="font-size:1.1rem">&#128663;</span>
      <div><div class="park-lbl">Park Point</div><div class="park-addr">${r.parkPoint}</div></div>
      <a class="map-btn" href="${mapsUrl}" target="_blank">Map &#128205;</a>
    </div>
    <div class="info-r1">
      ${mapHtml}
      <div class="r1-right">
        <div class="ic"><div class="ic-val">${r.stops}</div><div class="ic-lbl">Stops</div></div>
        <div class="ic"><div class="ic-val" style="font-size:${r.dist?'1rem':'1.3rem'}">${r.dist||'—'}</div><div class="ic-lbl">Distance</div></div>
      </div>
    </div>
    <div class="info-r2">
      <div class="sc${r.keys>0?' key-on':' dim'}"><div class="sc-val">&#128273;</div><div class="sc-lbl">Arrow Key</div></div>
      <div class="sc${holds>0?' hold-on':' dim'}" id="hc${r.relay}"><div class="sc-val">${holds}</div><div class="sc-lbl">Holds</div></div>
      <div class="sc${r.fwds>0?' fwd-on':' dim'}"><div class="sc-val">${r.fwds}</div><div class="sc-lbl">Forwards</div></div>
      <div class="sc${r.vacs>0?' vac-on':' dim'}"><div class="sc-val">${r.vacs}</div><div class="sc-lbl">Vacant</div></div>
    </div>
    <div class="rnote-wrap">
      <div class="rnote-lbl">Relay Notes</div>
      <textarea class="rnote" placeholder="Tap to add notes..." oninput="setRN(${r.relay},this.value)">${rn}</textarea>
    </div>
    <div class="del-hdr" onclick="togDel('${did}',event)">
      <span class="del-lbl">Line of Delivery</span>
      <span class="del-meta">${r.stops} stops</span>
      <span class="chev" id="dc${did}">&#9658;</span>
    </div>
    <div class="del-body" id="${did}">${buildSegs(r.segments,r.relay)}</div>
  </div>
</div>`;
}

// ── Interactions ──
function togAcc(id){document.getElementById(id).classList.toggle('open');document.getElementById('ac'+id).classList.toggle('open')}
function togDel(id,e){e.stopPropagation();document.getElementById(id).classList.toggle('open');document.getElementById('dc'+id).classList.toggle('open')}
function togAddr(sid,rid,num){const p=document.getElementById('ap'+sid);if(!p)return;const v=p.classList.toggle('visible');if(v)p.querySelector('textarea').focus()}
function saveAN(rid,num,v){setAN(rid,num,v)}
function togHold(e,rid,num){e.stopPropagation();const v=!getH(rid,num);setH(rid,num,v);if(v){setF(rid,num,false);setV(rid,num,false)}rerender(RELAYS.findIndex(r=>r.relay==rid))}
function togFwd(e,rid,num){e.stopPropagation();const v=!getF(rid,num);setF(rid,num,v);if(v){setH(rid,num,false);setV(rid,num,false)}rerender(RELAYS.findIndex(r=>r.relay==rid))}
function togVac(e,rid,num){e.stopPropagation();const v=!getV(rid,num);setV(rid,num,v);if(v){setH(rid,num,false);setF(rid,num,false)}rerender(RELAYS.findIndex(r=>r.relay==rid))}
function clearAddr(e,rid,num){e.stopPropagation();setAN(rid,num,'');setH(rid,num,false);setF(rid,num,false);setV(rid,num,false);rerender(RELAYS.findIndex(r=>r.relay==rid))}
function rerender(i){
  if(i<0)return;
  const r=RELAYS[i],bid='b'+i,did='d'+i;
  const bOpen=document.getElementById(bid)&&document.getElementById(bid).classList.contains('open');
  const dOpen=document.getElementById(did)&&document.getElementById(did).classList.contains('open');
  const w=document.getElementById('rw'+i);
  if(w){
    w.innerHTML=buildRelay(r,i);
    if(bOpen){document.getElementById(bid).classList.add('open');document.getElementById('ac'+bid).classList.add('open')}
    if(dOpen){document.getElementById(did).classList.add('open');document.getElementById('dc'+did).classList.add('open')}
  }
}
function openLB(src){document.getElementById('lb-img').src=src;document.getElementById('lb').classList.add('open')}
function closeLB(){document.getElementById('lb').classList.remove('open')}

// ── RELAY DATA ──
const RELAYS = [

{
  relay:1, name:"Oxley Rd", parkPoint:"915 Oxley Rd",
  stops:57, dist:"0.51 mi", keys:0, fwds:1, vacs:0,
  mapImg:"images/relay1.jpeg",
  segments:[
    {type:"street",street:"Oxley Rd",color:"#1a3a5c"},
    {type:"dir",label:"ODD side — southbound"},
    {type:"stop",num:"915"},{type:"stop",num:"913"},{type:"stop",num:"909"},
    {type:"stop",num:"907"},{type:"stop",num:"903"},{type:"stop",num:"901"},
    {type:"stop",num:"899"},{type:"stop",num:"897"},{type:"stop",num:"895"},
    {type:"stop",num:"889"},{type:"stop",num:"887"},{type:"stop",num:"881"},
    {type:"stop",num:"879"},
    {type:"dir",label:"Cross — deliver 1146 Burr St",cross:true},
    {type:"stop",num:"1146",street:"Burr St",cross:true},
    {type:"dir",label:"EVEN side — northbound"},
    {type:"stop",num:"880"},{type:"stop",num:"884"},{type:"stop",num:"886"},
    {type:"stop",num:"888"},{type:"stop",num:"890"},{type:"stop",num:"894"},
    {type:"stop",num:"896"},{type:"stop",num:"898"},{type:"stop",num:"900"},
    {type:"stop",num:"904"},{type:"stop",num:"908"},{type:"stop",num:"910"},
    {type:"stop",num:"912"},
    {type:"stop",num:"916",flags:["dog"],note:"DOG",noteType:"dog"},
    {type:"stop",num:"922"},{type:"stop",num:"924"},{type:"stop",num:"926"},
    {type:"stop",num:"930"},{type:"stop",num:"932"},{type:"stop",num:"936"},
    {type:"stop",num:"944"},{type:"stop",num:"948"},{type:"stop",num:"950"},
    {type:"stop",num:"952"},{type:"stop",num:"954"},{type:"stop",num:"960"},
    {type:"stop",num:"962",flags:["fwd"],note:"FWD Nelson",noteType:"fwd"},
    {type:"dir",label:"ODD side — upper segment, southbound"},
    {type:"stop",num:"963"},{type:"stop",num:"961"},{type:"stop",num:"957"},
    {type:"stop",num:"955"},{type:"stop",num:"951"},{type:"stop",num:"949"},
    {type:"stop",num:"947"},{type:"stop",num:"945"},{type:"stop",num:"941"},
    {type:"stop",num:"939"},{type:"stop",num:"937"},{type:"stop",num:"935"},
    {type:"stop",num:"931"},{type:"stop",num:"927"},{type:"stop",num:"925"},
    {type:"stop",num:"921"},{type:"stop",num:"919"},
  ]
},

{
  relay:2, name:"Murrell Ave", parkPoint:"1301 Avondale Ave",
  stops:33, dist:"0.45 mi", keys:0, fwds:0, vacs:0,
  mapImg:"images/relay2.jpeg",
  segments:[
    {type:"street",street:"Murrell Ave",color:"#1a3a5c"},
    {type:"dir",label:"ODD side — southbound"},
    {type:"stop",num:"1351"},{type:"stop",num:"1345"},{type:"stop",num:"1341"},
    {type:"stop",num:"1335"},{type:"stop",num:"1329"},{type:"stop",num:"1325"},
    {type:"stop",num:"1319"},{type:"stop",num:"1315"},{type:"stop",num:"1309"},
    {type:"stop",num:"1305"},{type:"stop",num:"1301"},
    {type:"dir",label:"EVEN side — northbound"},
    {type:"stop",num:"1298"},{type:"stop",num:"1306"},{type:"stop",num:"1308"},
    {type:"stop",num:"1314"},{type:"stop",num:"1320"},{type:"stop",num:"1324"},
    {type:"stop",num:"1328"},{type:"stop",num:"1336"},{type:"stop",num:"1340"},
    {type:"stop",num:"1346"},{type:"stop",num:"1350"},
    {type:"dir",label:"Cross to Avondale Ave",cross:true},
    {type:"street",street:"Avondale Ave",color:"#2d4a1e"},
    {type:"stop",num:"1301",street:"Avondale Ave",cross:true},
    {type:"dir",label:"ODD side only — southbound"},
    {type:"stop",num:"1299"},{type:"stop",num:"1293"},{type:"stop",num:"1289"},
    {type:"stop",num:"1283"},{type:"stop",num:"1279"},{type:"stop",num:"1277"},
    {type:"stop",num:"1275"},{type:"stop",num:"1273"},
  ]
},

{
  relay:3, name:"3rd Ave", parkPoint:"1301 Avondale Ave",
  stops:19, dist:"0.36 mi", keys:2, fwds:0, vacs:0,
  mapImg:"images/relay3.jpeg",
  segments:[
    {type:"street",street:"3rd Ave",color:"#1a3a5c"},
    {type:"dir",label:"ODD side — southbound"},
    {type:"stop",num:"1343"},{type:"stop",num:"1341"},{type:"stop",num:"1337"},
    {type:"stop",num:"1333"},{type:"stop",num:"1327"},{type:"stop",num:"1323"},
    {type:"stop",num:"1317"},{type:"stop",num:"1311"},{type:"stop",num:"1307"},
    {type:"stop",num:"1301"},
    {type:"stop",num:"1297",flags:["apt"],units:["A","B","C","D"]},
    {type:"stop",num:"1291",flags:["biz"],note:"Ohio Tap Room",noteType:"biz"},
    {type:"dir",label:"EVEN side — northbound"},
    {type:"stop",num:"1290",flags:["biz"],note:"Boulevard Carryout",noteType:"biz"},
    {type:"stop",num:"1308",flags:["key","apt"],units:["A","B","C","D"]},
    {type:"stop",num:"1314",flags:["code","key","apt"],units:["A","B","C","D"],code:"1314"},
    {type:"stop",num:"1320"},
    {type:"stop",num:"1326",flags:["apt"],units:["A","B","C","D"]},
    {type:"stop",num:"1334",flags:["apt"],units:["A","B","C","D"]},
    {type:"stop",num:"1340",flags:["apt"],units:["A","B","C","D"]},
  ]
},

{
  relay:4, name:"Morning Ave / 3rd Ave", parkPoint:"1378 Morning Ave",
  stops:33, dist:"0.41 mi", keys:2, fwds:1, vacs:0,
  mapImg:"images/relay4.jpeg",
  segments:[
    {type:"street",street:"Morning Ave",color:"#2d4a1e"},
    {type:"dir",label:"ODD side — southbound"},
    {type:"stop",num:"1379"},{type:"stop",num:"1375"},{type:"stop",num:"1371"},
    {type:"stop",num:"1367"},{type:"stop",num:"1365"},{type:"stop",num:"1363"},
    {type:"stop",num:"1361"},{type:"stop",num:"1353"},
    {type:"dir",label:"Cross to 3rd Ave — start at north end",cross:true},
    {type:"street",street:"3rd Ave",color:"#1a3a5c"},
    {type:"stop",num:"1381",flags:["biz"],note:"Tidy Rides",noteType:"biz",cross:true},
    {type:"dir",label:"ODD side — southbound"},
    {type:"stop",num:"1371"},{type:"stop",num:"1367"},{type:"stop",num:"1365"},
    {type:"stop",num:"1363"},{type:"stop",num:"1361"},{type:"stop",num:"1359"},
    {type:"stop",num:"1357"},{type:"stop",num:"1355"},
    {type:"dir",label:"EVEN side — northbound"},
    {type:"stop",num:"1354"},
    {type:"stop",num:"1360",flags:["code","key","apt"],units:["A","B","C","D"],code:"1542"},
    {type:"stop",num:"1362",flags:["code","key","apt"],units:["A","B","C","D"],code:"1542",codeNote:"same as 1360"},
    {type:"stop",num:"1370"},{type:"stop",num:"1372"},{type:"stop",num:"1376"},
    {type:"stop",num:"1378"},
    {type:"stop",num:"1380",flags:["biz"],note:"Barrel & Taps",noteType:"biz"},
    {type:"dir",label:"Cross back to Morning Ave — EVEN side",cross:true},
    {type:"street",street:"Morning Ave",color:"#2d4a1e"},
    {type:"dir",label:"EVEN side — northbound"},
    {type:"stop",num:"1350"},{type:"stop",num:"1354"},{type:"stop",num:"1362"},
    {type:"stop",num:"1370"},{type:"stop",num:"1374"},
    {type:"stop",num:"1378",flags:["fwd"],note:"FWD Mitchell",noteType:"fwd"},
  ]
},

{
  relay:5, name:"3rd Ave / Morning Ave", parkPoint:"1349 Hollywood Pl",
  stops:27, dist:"0.40 mi", keys:5, fwds:0, vacs:2,
  mapImg:"images/relay5.jpeg",
  segments:[
    {type:"street",street:"3rd Ave",color:"#1a3a5c"},
    {type:"dir",label:"ODD side — southbound"},
    {type:"stop",num:"1421",flags:["biz"],note:"Collins & Kruse Law",noteType:"biz"},
    {type:"stop",num:"1409",flags:["biz"],note:"Snap Fitness",noteType:"biz"},
    {type:"stop",num:"1403",flags:["key","apt"],units:["A","B","C","D"]},
    {type:"stop",num:"1399",flags:["key","apt"],units:["A","B","C","D"]},
    {type:"stop",num:"1393",flags:["key","apt"],units:["A","B","C","D"]},
    {type:"dir",label:"Cross south to Morning Ave",cross:true},
    {type:"street",street:"Morning Ave",color:"#2d4a1e"},
    {type:"dir",label:"ODD side — southbound"},
    {type:"stop",num:"1299"},{type:"stop",num:"1293"},
    {type:"stop",num:"1289",flags:["vac"],note:"VACANT",noteType:"vac"},
    {type:"stop",num:"1285"},{type:"stop",num:"1281"},
    {type:"stop",num:"1277"},{type:"stop",num:"1275"},
    {type:"dir",label:"EVEN side — northbound"},
    {type:"stop",num:"1274"},{type:"stop",num:"1278"},{type:"stop",num:"1282"},
    {type:"stop",num:"1286"},{type:"stop",num:"1290"},
    {type:"stop",num:"1294",flags:["vac"],note:"VACANT",noteType:"vac"},
    {type:"stop",num:"1298"},
    {type:"dir",label:"Cross north back to 3rd Ave",cross:true},
    {type:"street",street:"3rd Ave",color:"#1a3a5c"},
    {type:"dir",label:"EVEN side — northbound"},
    {type:"stop",num:"1394",flags:["key","apt"],units:["A","B","C","D"]},
    {type:"stop",num:"1398",flags:["key","apt"],units:["A","B","C","D"]},
    {type:"stop",num:"1400",flags:["biz"],note:"Musicology",noteType:"biz"},
    {type:"stop",num:"1408"},{type:"stop",num:"1410"},{type:"stop",num:"1412"},
    {type:"stop",num:"1414"},{type:"stop",num:"1416"},{type:"stop",num:"1418"},
    {type:"stop",num:"1420"},
  ]
},

{
  relay:6, name:"Hollywood Pl", parkPoint:"1349 Hollywood Pl",
  stops:20, dist:"0.22 mi", keys:0, fwds:0, vacs:0,
  mapImg:null,
  segments:[
    {type:"street",street:"Hollywood Pl",color:"#3d2a5c"},
    {type:"dir",label:"EVEN side — northbound"},
    {type:"stop",num:"1350"},{type:"stop",num:"1352"},{type:"stop",num:"1354"},
    {type:"stop",num:"1358"},{type:"stop",num:"1362"},{type:"stop",num:"1366"},
    {type:"stop",num:"1370"},{type:"stop",num:"1374"},
    {type:"stop",num:"1378",flags:["dup"],units:["A","B"]},
    {type:"stop",num:"1382"},{type:"stop",num:"1386"},
    {type:"dir",label:"Cross at top — 1387, begin odd side",cross:true},
    {type:"stop",num:"1387",cross:true},
    {type:"dir",label:"ODD side — southbound"},
    {type:"stop",num:"1383"},{type:"stop",num:"1379"},{type:"stop",num:"1363"},
    {type:"stop",num:"1359"},{type:"stop",num:"1353"},{type:"stop",num:"1351"},
    {type:"stop",num:"1349"},
  ]
},

{
  relay:7, name:"3rd Ave / Hollywood Pl", parkPoint:"1349 Hollywood Pl",
  stops:24, dist:"0.32 mi", keys:2, fwds:0, vacs:2,
  mapImg:null,
  segments:[
    {type:"street",street:"3rd Ave",color:"#1a3a5c"},
    {type:"dir",label:"EVEN side — northbound"},
    {type:"stop",num:"1430"},{type:"stop",num:"1432"},
    {type:"stop",num:"1434",flags:["vac"],note:"VACANT",noteType:"vac"},
    {type:"stop",num:"1436"},
    {type:"stop",num:"1438",flags:["vac"],note:"VACANT",noteType:"vac"},
    {type:"stop",num:"1440"},{type:"stop",num:"1442"},
    {type:"dir",label:"Cross to ODD side — walk north to 1455 first",cross:true},
    {type:"dir",label:"ODD side — southbound from 1455"},
    {type:"stop",num:"1455",flags:["biz"],note:"Grandview Cafe",noteType:"biz"},
    {type:"stop",num:"1445",flags:["apt"],units:["A","B","C","D"]},
    {type:"stop",num:"1441",flags:["key","apt"],units:["A","B","C","D"]},
    {type:"stop",num:"1435",flags:["key","apt"],units:["A","B","C","D"]},
    {type:"stop",num:"1433",flags:["biz"],note:"Third & Hollywood Restaurant",noteType:"biz"},
    {type:"dir",label:"Cross to Hollywood Pl",cross:true},
    {type:"street",street:"Hollywood Pl",color:"#3d2a5c"},
    {type:"dir",label:"ODD side — southbound"},
    {type:"stop",num:"1305"},{type:"stop",num:"1301"},{type:"stop",num:"1297"},
    {type:"stop",num:"1295"},{type:"stop",num:"1289"},{type:"stop",num:"1285"},
    {type:"stop",num:"1281"},
    {type:"dir",label:"EVEN side — northbound"},
    {type:"stop",num:"1284"},{type:"stop",num:"1288"},{type:"stop",num:"1296"},
    {type:"stop",num:"1298"},{type:"stop",num:"1308"},
  ]
},

]; // END RELAY DATA

// ── Init ──
document.getElementById('app').innerHTML=RELAYS.map((r,i)=>`<div id="rw${i}">${buildRelay(r,i)}</div>`).join('');
setInterval(()=>{document.getElementById('clock').textContent=new Date().toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'})},1000);
document.getElementById('clock').textContent=new Date().toLocaleTimeString([],{hour:'2-digit',minute:'2-digit'});
</script>
</body>
</html>
